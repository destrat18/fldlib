CEA Saclay Nano-Innov
CARNOT institute, CEA LIST – DILS/LSL Point Courrier n°174
91191 Gif sur Yvette CEDEX – France
Unisim Team

To install the FLDLib library, you can follow the automatically
generated INSTALL file.

A typical way to install it in a local directory consists in
typing the following commands

  mkdir build && cd build
  cmake -DCMAKE_INSTALL_PREFIX=TheInstallationDirectory -DFLDLIB_ENABLE_TESTS=ON ..
  make
  make install

To check the library

  make test

To build and check in parallel on 10 available cores,

  mkdir build && cd build
  cmake -DCMAKE_INSTALL_PREFIX=TheInstallationDirectory -DFLDLIB_ENABLE_TESTS=ON ..
  make -j 10
  make install
  CTEST_PARALLEL_LEVEL=10 make test

  or

  ctest -j 10

To build and run a particular test in the build directory

  AUTOTEST=1 ./comp_float_diagnosis.sh  -affine -optim -atomic ../tests/filter.cpp -o filter.exe
  ./filter.exe
  diff filter_diag_aff_out tests/filter_diag_aff_out

Example of abstract instrumentation:
  add
    export FLOATDIAGNOSISHOME=TheInstallationDirectory
  in your .bashrc or .profile.

  executable creation
    $FLOATDIAGNOSISHOME/bin/comp_float_diagnosis.sh -affine -optim -atomic \
      filter.cpp -o filter.exe
  separate compilation
    $FLOATDIAGNOSISHOME/bin/comp_float_diagnosis.sh -affine -optim -atomic \
      filter.cpp -c -o filter.o

The DPRINT macros in the source code are used to print the conservative accuracy
in the file filter_diag_aff_out.

